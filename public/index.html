<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
	<title>TransferBreak</title>

	<!-- Angular-Material CSS/JS -->
	<link rel="stylesheet" href="/bower_components/angular-material/angular-material.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<script src="/bower_components/angular/angular.js"></script>
	<script src="/bower_components/angular/angular-idle.js"></script>
	<script src="/bower_components/angular-aria/angular-aria.js"></script>
	<script src="/bower_components/angular-animate/angular-animate.js"></script>
	<script src="/bower_components/angular-material/angular-material.js"></script>

	<!-- App Styles -->
	<link rel="stylesheet" href="css/styles.css">

	<!-- App -->
	<script src="js/app.js"></script>

	<!-- Controllers -->
	<script src="js/controllers/MainController.js"></script>

	<script src="js/controllers/BigPanelController.js"></script>

	<script src="js/controllers/SearchController.js"></script>
	<script src="js/controllers/TweetsController.js"></script>

	<script src="js/controllers/LoginController.js"></script>
	<script src="js/controllers/LoginDialogController.js"></script>
	<script src="js/controllers/NewAccountDialogController.js"></script>
	<script src="js/controllers/AccountDialogController.js"></script>
</head>
<body ng-app="TransferBreak" ng-controller="MainController as main" ng-init="init()">
	<div layout="column" id="main-column">
		<div ng-controller="LoginController" id="nav-controller">
			<md-content>
				<md-toolbar>
					<div class="md-toolbar-tools">
						<h2>TransferBreak</h2>
						<span flex class="flex"></span>
						<span ng-hide="loggedIn">
							<md-button ng-click="openLoginDialog($event)">
								<span>Log In &nbsp;</span>
								<md-icon md-font-library="material-icons" class="md-light md-48">account_circle</md-icon>
							</md-button>
						</span>
						<span ng-show="loggedIn">
							<md-button ng-click="openAccountSettingsDialog($event)">
								<span>Account Settings &nbsp;</span>
								<md-icon md-font-library="material-icons" class="md-light md-48">account_circle</md-icon>
							</md-button>
							<md-button ng-click="beLoggedOut()">
								<span>Log Out &nbsp;</span>
								<md-icon md-font-library="material-icons" class="md-light md-48">exit_to_app</md-icon>
							</md-button>
						</span>
					</div>
				</md-toolbar>
			</md-content>
		</div>
		<md-content flex layout="row" layout-align="center" id="main-row">
			<md-sidenav id="side-column" class="md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="$mdMedia('gt-md')">

				<!-- Tweet Sidebar -->
				<md-content ng-controller="TweetsController" layout="column" flex ng-show="main.currentView == 'twitter'">
					<md-toolbar class="md-primary md-hue-1">
						<div class="md-toolbar-tools">
							<h2>Twitter Stream</h2>
						</div>
					</md-toolbar>
					<div layout="column" flex layout-align="center center" ng-hide="tweetsLoaded">
						<md-progress-circular md-mode="indeterminate"></md-progress-circular>
					</div>
					<md-content flex ng-show="tweetsLoaded">
						<md-content layout="row" layout-align="center" ng-hide="!tweetsBuffer.length">
							<md-button class="md-raised md-primary md-hue-3" style="width: 100%;">Load {{ tweetsBuffer.length }} New <span ng-hide="tweetsBuffer.length <= 1">Tweets</span><span ng-hide="tweetsBuffer.length > 1">Tweet</span></md-button>
						</md-content>
						<md-card ng-repeat="tweet in tweets">
							<md-list-item class="md-3-line">
								<img ng-src="{{ tweet.profile }}" alt="{{ tweet.name }}" class="md-avatar">
								<div class="md-list-item-text">
									<h3>{{ tweet.name }}</h3>
									<h4><a href="{{ tweet.url }}">{{ toJsDate(tweet.date) | date: "MMM d, yyyy h:mm a" }}</a></h4>
									<p>
										{{ tweet.text }}
									</p>
								</div>
								<md-divider inset></md-divider>
							</md-list-item>
						</md-card>
					</md-content>
				</md-content>

				<!-- Search Sidebar -->
				<md-content ng-controller="SearchController" layout="column" flex ng-show="main.currentView == 'search'">
					<md-toolbar class="md-primary md-hue-1">
						<div class="md-toolbar-tools">
							<h2>Player Look-up</h2>
						</div>
					</md-toolbar>
					<md-content layout="row" flex="5" layout-align="center">
						<md-input-container flex="95">
							<label>Player Name</label>
							<input ng-model="playerNameEntry" ng-change="lookUpPlayer()">
						</md-input-container>
					</md-content>
					<md-divider ng-if="!$last"></md-divider>
					<div layout="column" flex layout-align="center center" ng-hide="resultsLoaded">
						<md-progress-circular md-mode="indeterminate"></md-progress-circular>
					</div>
					<md-content layout="column" flex ng-show="resultsLoaded">
						<md-card ng-repeat="result in results">
							<md-list-item class="md-2-line" ng-click="loadPlayer(result.name, result.team)">
								<img ng-src="{{ result.logo }}" alt="{{ result.team }}" class="md-avatar not-rounded">
								<div class="md-list-item-text">
									<h3>{{ result.name }}</h3>
									<h4>{{ result.team }}</h4>
								</div>
								<md-divider inset></md-divider>
							</md-list-item>
						</md-card>
					</md-content>
				</md-content>

			</md-sidenav>
			<md-content ng-controller="BigPanelController" flex id="big-column">

				<!-- Speed Dial -->
				<md-fab-speed-dial id="my-speed-dial" md-open="main.fabIsOpen" md-direction="down" class="md-fling">
					<md-fab-trigger>
						<md-button aria-label="menu" class="md-fab md-primary md-hue-1">
							<md-icon md-font-library="material-icons" class="md-light md-48">menu</md-icon>
						</md-button>
					</md-fab-trigger>
					<md-fab-actions>
						<md-button aria-label="news" class="md-fab md-raised md-mini" ng-click="main.currentView = 'twitter'">
							<md-icon md-svg-src="icons/twitter.svg" class="md-dark md-48"></md-icon>
						</md-button>
						<md-button aria-label="news" class="md-fab md-raised md-mini" ng-click="main.currentView = 'news'">
							<md-icon md-svg-src="icons/newspaper.svg" class="md-dark md-48"></md-icon>
						</md-button>
						<md-button aria-label="search" class="md-fab md-raised md-mini" ng-click="main.currentView = 'search'">
							<md-icon md-font-library="material-icons" class="md-dark md-48">search</md-icon>
						</md-button>
					</md-fab-actions>
				</md-fab-speed-dial>

				<!-- Search Main Panel -->
				<md-content layout="column" flex ng-show="main.currentView == 'search'">
					<md-whiteframe class="md-whiteframe-z2" ng-show="playerLoaded">
						<div layout="row" style="padding: 10px">
							<div flex layout="row" layout-align="start start">
								<div>
									<img ng-src="{{ playerData.logo }}" class="player-data-img"/>
								</div>
								<div layout="column">
									<div><h1 class="player-data-number">{{ playerData.jersey_number }}</h1></div>
									<div><h1 class="player-data-name">{{ playerData.name }}</h1></div>
									<div><h3 class="player-data-team">{{ playerData.team }}</h3></div>
								</div>
							</div>
							<div flex layout="column" layout-align="end center">
								<div><h3 class="player-data-team">{{ playerData.position }}</h3></div>
								<div><h3 class="player-data-team">{{ playerData.nationality }}</h3></div>
							</div>
							<div flex layout="row" layout-align="end end">
								<div><h3 class="player-data-team">Market Value: <b style="font-family: Roboto Slab;">{{ playerData.market_value }}</b></h3></div>
							</div>
						</div>
					</md-whiteframe>
					<md-divider ng-show="playerLoaded"></md-divider>
				</md-content>

			</md-content>
		</md-content>
	</div>
</body>
</html>