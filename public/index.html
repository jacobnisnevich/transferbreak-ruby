<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
	<title>TransferBreak</title>

	<!-- Angular-Material CSS/JS -->
	<link rel="stylesheet" href="/bower_components/angular-material/angular-material.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<script src="/bower_components/angular/angular.js"></script>
	<script src="/bower_components/angular/angular-idle.js"></script>
	<script src="/bower_components/angular-aria/angular-aria.js"></script>
	<script src="/bower_components/angular-animate/angular-animate.js"></script>
	<script src="/bower_components/angular-material/angular-material.js"></script>

	<!-- App Styles -->
	<link rel="stylesheet" href="css/styles.css">

	<!-- App -->
	<script src="js/app.js"></script>

	<!-- Controllers -->
	<script src="js/controllers/MainController.js"></script>
	<script src="js/controllers/NewsController.js"></script>
	<script src="js/controllers/TweetsController.js"></script>
	<script src="js/controllers/LoginController.js"></script>
	<script src="js/controllers/LoginDialogController.js"></script>
	<script src="js/controllers/NewAccountDialogController.js"></script>
	<script src="js/controllers/AccountDialogController.js"></script>
</head>
<body ng-app="TransferBreak" ng-controller="MainController" ng-init="init()">
	<div layout="column" id="main-column">
		<div ng-controller="LoginController" id="nav-controller">
			<md-content>
				<md-toolbar>
					<div class="md-toolbar-tools">
						<h2>TransferBreak</h2>
						<span flex class="flex"></span>
						<span ng-hide="loggedIn">
							<md-button ng-click="openLoginDialog($event)">
								<span>Log In &nbsp;</span>
								<md-icon md-font-library="material-icons" class="md-light md-48">account_circle</md-icon>
							</md-button>
						</span>
						<span ng-show="loggedIn">
							<md-button ng-click="openAccountSettingsDialog($event)">
								<span>Account Settings &nbsp;</span>
								<md-icon md-font-library="material-icons" class="md-light md-48">account_circle</md-icon>
							</md-button>
							<md-button ng-click="beLoggedOut()">
								<span>Log Out &nbsp;</span>
								<md-icon md-font-library="material-icons" class="md-light md-48">exit_to_app</md-icon>
							</md-button>
						</span>
					</div>
				</md-toolbar>
			</md-content>
		</div>
		<md-content flex layout="row" layout-align="center" id="main-row">
			<div ng-controller="NewsController" layout="column" flex="80" id="news-column">
				<md-content></md-content>
			</div>
			<div ng-controller="TweetsController" layout="column" flex id="tweets-column">
				<md-content flex>
					<md-toolbar class="md-primary md-hue-1">
						<div class="md-toolbar-tools">
							<h2>Twitter Stream</h2>
						</div>
					</md-toolbar>
					<div layout="row" layout-align="center" ng-hide="tweetsLoaded">
						<md-progress-circular md-mode="indeterminate"></md-progress-circular>
					</div>
					<md-content flex ng-show="tweetsLoaded">
						<md-content layout="row" layout-align="center" ng-hide="!tweetsBuffer.length">
							<md-button class="md-raised md-primary md-hue-3" style="width: 100%;">Load {{ tweetsBuffer.length }} New <span ng-hide="tweetsBuffer.length <= 1">Tweets</span><span ng-hide="tweetsBuffer.length > 1">Tweet</span></md-button>
						</md-content>
						<md-card ng-repeat="tweet in tweets">
							<md-list-item class="md-3-line">
								<img ng-src="{{ tweet.profile }}" alt="{{ tweet.name }}" class="md-avatar">
								<div class="md-list-item-text">
									<h3>{{ tweet.name }}</h3>
									<h4><a href="{{ tweet.url }}">{{ toJsDate(tweet.date) | date: "MMM d, yyyy h:mm a" }}</a></h4>
									<p>
										{{ tweet.text }}
									</p>
								</div>
								<md-divider inset></md-divider>
							</md-list-item>
						</md-card>
					</md-content>
				</md-content>
			</div>
		</md-content>
	</div>
</body>
</html>